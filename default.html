<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>

<title>Multitasking Test</title>
<style type="text/css" media="screen">
    .text{
        border:3px solid black;
        font-family:sans-serif;
        font-size:2em;
        background-color:red;
        height:50px;
        width:50px;
        position:absolute;
        text-align:center;
    }
    
    .clickable{
        background-color:blue;
        height:50px;
        width:50px;
        position:absolute;
        border:3px solid black;
    }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" charset="utf-8">
function randomFromInterval(from,to)
{
    return Math.floor(Math.random()*(to-from+1)+from);
}

/**
*allStrings: List of all allowed strings
*strings: List for randomization to pull out letter values
**/
var allStrings = ['q', 'w', 'e', 'r', 't', 'a', 's', 'd', 'f', 'g', 'z', 'x', 'c', 'v']
var strings = ['q', 'w', 'e', 'r', 't', 'a', 's', 'd', 'f', 'g', 'z', 'x', 'c', 'v']

/**
*randomLetter: randomizes strings, then pops the last letter in the list.
**/
function randomLetter()
{
    strings = shuffle(strings);
    return strings.pop();
}

/**
*shuffle: takes in an array, shuffles it around, and returns it.
**/
function shuffle(array) {
    var tmp, current, top = array.length;

    if(top) while(--top) {
        current = Math.floor(Math.random() * (top + 1));
        tmp = array[current];
        array[current] = array[top];
        array[top] = tmp;
    }

    return array;
}

$(function(){

    /**
    *makeTextBox: makes a text box with a random letter in it in a random location in our div. 
    *the class name of this box is the same as the letter within.
    *It will make boxes until the list is empty.
    **/
    function makeTextBox(){
        if (strings.length != 0) {
            letter = randomLetter();
            val = $("<div></div>");
            $(val).addClass("text");
            console.log(letter);
            $(val).attr("id", letter);
            console.log(letter);
            $(val).html(letter);
            var randX = randomFromInterval(10, 800);
    		var randY = randomFromInterval(10, 500);
    		$(val).css('left', randX+'px');
    		$(val).css('top', randY+'px');
         	$("body").append(val);
         }
     	setTimeout("makeTextBox()",800);    //RECURSION HERE BRAH.
    }
    
    function doTimer() {
        makeTextBox();
    }
    
    doTimer();
	
	/**
	*When an object of class clickable is clicked on, we move the box to a new location.
	**/
	$(".clickable").click(function(){
		var randX = randomFromInterval(50, 300);
		var randY = randomFromInterval(50, 300);
		$(this).css('left', randX+'px');
		$(this).css('top', randY+'px');
	});
	
	/**
	*When a key is pressed, we remove the box with that letter, and, if the letter is in the list of allowed letters, we push it back onto the list of available letters.
	**/
	$('body').keypress(function(event){
	    letterInput = String.fromCharCode(event.which);
		$("#"+letterInput).remove();
		if (strings.indexOf(letterInput) <= 0){
		    if (allStrings.indexOf(letterInput) >=0){
		     strings.push(letterInput);   
		    };
		};
	});
});
</script>

</head>

<body>


<!-- <div class="clickable"></div> -->

</body>
</html>
